/*! For license information please see 654.08de28f0.chunk.js.LICENSE.txt */
(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[654],{654:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return R}});var n=s(1413),r=s(5671),a=s(3144),o=s(136),i=s(5716),l=s(2791),c=s(364),u=s(5209),d={item:"Post_item__q6Qpm",content_feedback:"Post_content_feedback__tG+h-",avatar:"Post_avatar__GgJhl",content__user:"Post_content__user__Q481B"},p=s(184);var f=function(t){return(0,p.jsxs)("div",{className:d.content__list,children:[(0,p.jsxs)("div",{className:d.content__user,children:[(0,p.jsx)("div",{className:d.avatar,children:(0,p.jsx)("img",{src:t.avatar,alt:"Avatar"})}),(0,p.jsx)("div",{className:d.item,children:(0,p.jsx)("p",{children:t.message})})]}),(0,p.jsxs)("div",{className:d.content_feedback,children:[(0,p.jsx)("span",{children:(0,p.jsx)("button",{className:"btn btn-success",children:"Like"})}),(0,p.jsx)("span",{children:t.likesCount}),(0,p.jsx)("span",{children:(0,p.jsx)("button",{className:"btn btn-danger",children:"Dislike"})})]})]})},h={content__btn:"MyPosts_content__btn__sWJ0A",content__textArea:"MyPosts_content__textArea__tYF+z"},x=s(6139),_=s(704),m=s(77),v=s(9504),j=(0,m.D)(100),b=(0,_.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{className:h.content__textArea,children:(0,p.jsx)(x.Z,{component:v.g,validate:[m.C,j],name:"newPostText",rows:"4",cols:"120"})}),(0,p.jsx)("div",{className:h.content__btn,children:(0,p.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Send message"})})]})}));var g=function(t){var e=t.posts.map((function(t){return(0,p.jsx)(f,{message:t.message,likesCount:t.likesCount,avatar:t.avatar},t.id)}));return(0,p.jsxs)("div",{className:h.post__block,children:[(0,p.jsx)(b,{onSubmit:function(e){t.addPost(e.newPostText)}}),e]})},P=s(6070),N=(0,c.$j)((function(t){return{posts:t.profilePage.posts}}),{addPost:P.q2})(g),k={content__user:"Profile_content__user__6K5lf",content__avatar:"Profile_content__avatar__gqI1P",content__description:"Profile_content__description__LtWFS",content__posts:"Profile_content__posts__flGXP",content__list:"Profile_content__list__0SOpK",item:"Profile_item__U0loT",item_gold:"Profile_item_gold__CeBFn",contacts:"Profile_contacts__Aalkx"},y=s(885),S=function(t){var e=(0,l.useState)(!1),s=(0,y.Z)(e,2),n=s[0],r=s[1],a=(0,l.useState)(t.status),o=(0,y.Z)(a,2),i=o[0],c=o[1];(0,l.useEffect)((function(){c(t.status)}),[t.status]);var u=function(){r(!n)};return(0,p.jsx)("div",{children:(0,p.jsx)("div",{children:n?(0,p.jsx)("input",{value:i,autoFocus:!0,onBlur:function(){u(),t.updateUserStatus(i)},onChange:function(t){!function(t){c(t.target.value)}(t)}}):(0,p.jsx)("span",{onDoubleClick:u,children:t.status})})})},Z=s(5987),C=s(1694),U=s.n(C),w=["as","disabled"];function A(t){var e=t.tagName,s=t.disabled,n=t.href,r=t.target,a=t.rel,o=t.onClick,i=t.tabIndex,l=void 0===i?0:i,c=t.type;e||(e=null!=n||null!=r||null!=a?"a":"button");var u={tagName:e};if("button"===e)return[{type:c||"button",disabled:s},u];var d=function(t){(s||"a"===e&&function(t){return!t||"#"===t.trim()}(n))&&t.preventDefault(),s?t.stopPropagation():null==o||o(t)};return"a"===e&&(n||(n="#"),s&&(n=void 0)),[{role:"button",disabled:void 0,tabIndex:s?void 0:l,href:n,target:"a"===e?r:void 0,"aria-disabled":s||void 0,rel:"a"===e?a:void 0,onClick:d,onKeyDown:function(t){" "===t.key&&(t.preventDefault(),d(t))}},u]}var O=l.forwardRef((function(t,e){var s=t.as,n=t.disabled,r=function(t,e){if(null==t)return{};var s,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)s=a[n],e.indexOf(s)>=0||(r[s]=t[s]);return r}(t,w),a=A(Object.assign({tagName:s,disabled:n},r)),o=(0,y.Z)(a,2),i=o[0],l=o[1].tagName;return(0,p.jsx)(l,Object.assign({},r,i,{ref:e}))}));O.displayName="Button";var D=["xxl","xl","lg","md","sm","xs"],I=l.createContext({prefixes:{},breakpoints:D});I.Consumer,I.Provider;function M(t,e){var s=(0,l.useContext)(I).prefixes;return t||s[e]||e}var F=["as","bsPrefix","variant","size","active","className"],J=l.forwardRef((function(t,e){var s=t.as,r=t.bsPrefix,a=t.variant,o=t.size,i=t.active,l=t.className,c=(0,Z.Z)(t,F),u=M(r,"btn"),d=A((0,n.Z)({tagName:s},c)),f=(0,y.Z)(d,2),h=f[0],x=f[1].tagName;return(0,p.jsx)(x,(0,n.Z)((0,n.Z)((0,n.Z)({},h),c),{},{ref:e,className:U()(l,u,i&&"active",a&&"".concat(u,"-").concat(a),o&&"".concat(u,"-").concat(o),c.href&&c.disabled&&"disabled")}))}));J.displayName="Button",J.defaultProps={variant:"primary",active:!1,disabled:!1};var T=J,L=s(2217),q=(0,_.Z)({form:"edit-profile"})((function(t){return(0,p.jsxs)("form",{className:k.content__description,onSubmit:t.handleSubmit,children:[!t.isOwner&&(0,p.jsx)("div",{style:{float:"right"},children:(0,p.jsx)("button",{className:"btn btn-primary",children:"Save"})}),t.error&&(0,p.jsx)("div",{className:L.Z.form_summary_error,children:t.error}),(0,p.jsxs)("ul",{children:[(0,p.jsx)(S,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsxs)("li",{children:[(0,p.jsx)("b",{children:"Name:"}),(0,p.jsx)(x.Z,{placeholder:t.profile.fullName,name:"fullName",component:v.I})]}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["About me:",(0,p.jsx)(x.Z,{placeholder:t.profile.aboutMe,name:"aboutMe",component:v.g})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["Looking for a job:",(0,p.jsx)(x.Z,{name:"lookingForAJob",component:"input",type:"checkbox"})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["My professional skills:",(0,p.jsx)(x.Z,{placeholder:t.profile.lookingForAJobDescription,name:"lookingForAJobDescription",component:v.g})]})})]}),(0,p.jsxs)("div",{className:k.contacts,children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.profile.contacts).map((function(e){return(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:e})," ",(0,p.jsx)(x.Z,{placeholder:t.profile.contacts[e],name:"contacts."+e.toLocaleLowerCase(),component:v.I},e)]})}))]})]})}));var z=function(t){Object.filter=function(t,e){return Object.keys(t).filter((function(s){return e(t[s])})).reduce((function(e,s){return e[s]=t[s],e}),{})};var e=Object.filter(t.profile.contacts,(function(t){return null!==t}));return(0,p.jsxs)("div",{className:k.content__description,children:[!t.isOwner&&(0,p.jsx)("div",{style:{float:"right"},children:(0,p.jsx)(T,{className:"btn btn-primary",onClick:t.goToEditMode,children:"Edit"})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)(S,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["Name: ",t.profile.fullName]})}),t.profile.aboutMe&&(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["About: ",t.profile.aboutMe]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["Looking for a job: ",t.profile.lookingForAJob?"Yes":"No"]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("b",{children:["My professional skills: ",t.profile.lookingForAJobDescription]})})]}),(0,p.jsxs)("div",{className:k.contacts,children:[(0,p.jsx)("b",{children:"Contacts: "})," ",Object.keys(e).map((function(t){return(0,p.jsx)(B,{contactTitle:t,contactValue:e[t]},t)}))]})]})},B=function(t){var e=t.contactTitle,s=t.contactValue;return(0,p.jsxs)("div",{className:k.contact,children:[(0,p.jsx)("b",{children:e}),": ",(0,p.jsx)("b",{children:s})]})},E=function(t){var e=(0,l.useState)(!1),s=(0,y.Z)(e,2),n=s[0],r=s[1];return(0,p.jsxs)("div",{className:k.content__user,children:[(0,p.jsxs)("div",{className:k.content__avatar,children:[(0,p.jsx)("img",{style:{maxWidth:"250px"},alt:"Avatar",src:t.profile.photos.large?t.profile.photos.large:"https://www.kindpng.com/picc/m/22-223941_transparent-avatar-png-male-avatar-icon-transparent-png.png"}),(0,p.jsx)("div",{children:t.isOwner&&(0,p.jsx)("input",{type:"file",onChange:function(e){return function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}(e)}})})]}),n?(0,p.jsx)(q,{onSubmit:function(e){t.saveProfile(e).then((function(){r(!n)}))},status:t.status,initialValues:t.profile,updateUserStatus:t.updateUserStatus,profile:t.profile}):(0,p.jsx)(z,{status:t.status,updateUserStatus:t.updateUserStatus,goToEditMode:function(){return r(!n)},profile:t.profile})]})};var G=function(t){return t.profile?(0,p.jsxs)("div",{className:k.content__container,children:[(0,p.jsx)(E,(0,n.Z)({},t)),(0,p.jsx)("div",{className:k.content__posts,children:(0,p.jsx)(N,{store:t.store})})]}):(0,p.jsx)(u.Z,{})},K=s(1468),V=s(6871),W=s(7781),Q=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.match?this.props.match.params.userId:this.props.authorizedUserId;t||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(G,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:null===this.props.match,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.Component),R=(0,W.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:P.et,getUserStatus:P.Tq,updateUserStatus:P.OL,savePhoto:P.Ju,saveProfile:P.Ii}),(function(t){return function(e){var s=(0,V.bS)("/profile/:userId/");return(0,p.jsx)(t,(0,n.Z)((0,n.Z)({},e),{},{match:s}))}}),K.D)(Q)},1694:function(t,e){var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var s=arguments[e];if(s){var a=typeof s;if("string"===a||"number"===a)t.push(s);else if(Array.isArray(s)){if(s.length){var o=r.apply(null,s);o&&t.push(o)}}else if("object"===a)if(s.toString===Object.prototype.toString)for(var i in s)n.call(s,i)&&s[i]&&t.push(i);else t.push(s.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(s=function(){return r}.apply(e,[]))||(t.exports=s)}()}}]);
//# sourceMappingURL=654.08de28f0.chunk.js.map